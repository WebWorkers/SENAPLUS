!function(){var b;window.Lungo=b={};b.VERSION="2.2.1";b.DEVICE=null;b.Config||(b.Config={});b.Element||(b.Element={});b.Data||(b.Data={});b.Sugar||(b.Sugar={});b.View||(b.View={});b.Boot||(b.Boot={});b.Device||(b.Device={});b.ready||(b.ready=Quo().ready)}.call(this);!function(){Lungo.Attributes={count:{selector:"*",html:'<span class="tag count">{{value}}</span>'},pull:{selector:"*",html:'<div data-control="pull" data-icon="{{value}}" data-loading>\n  <strong></strong>\n</div>'},progress:{selector:"*",html:'<div class="progress">\n  <span class="bar"><span class="value" style="width:{{value}};"></span></span>\n</div>'},label:{selector:"*",html:"<abbr>{{value}}</abbr>"},icon:{selector:"*",html:'<span class="icon {{value}}"></span>'},image:{selector:"*",html:'<img src="{{value}}" class="icon" />'},title:{selector:"header",html:'<h1 class="title centered">{{value}}</h1>'},loading:{selector:"*",html:'<div class="loading {{value}}">\n  <span class="top"></span>\n  <span class="right"></span>\n  <span class="bottom"></span>\n  <span class="left"></span>\n</div>'},back:{selector:"header",html:'<nav class="left"><a href="#" data-view-section="back"><span class="icon {{value}}"></span></a></nav>'}}}.call(this);!function(){Lungo.Cache=function(h){var g,l,k,j,i;i={};j=function(b,a){if(g(b)){return i[b]=h.Core.mix(l(b),a)}else{return i[b]=a}};l=function(d,c){if(arguments.length===1){return i[d]}else{if(i[arguments[0]]){return i[arguments[0]][arguments[1]]}else{return void 0}}};k=function(d,c){if(arguments.length===1){return delete i[d]}else{return delete i[arguments[0]][arguments[1]]}};g=function(b){if(i[b]){return true}else{return false}};return{set:j,get:l,remove:k,exists:g}}(Lungo)}.call(this);!function(){Lungo.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",LI:"li"},CONTROL:{MENU:"[data-control=menu]"},QUERY:{ARTICLE_ROUTER:"[data-view-article]",SECTION_ROUTER:"[data-view-section]",ARTICLE_ROUTER_TOUCH:"header [data-view-article], footer [data-view-article], nav[data-control] [data-view-article]",SECTION_ROUTER_TOUCH:"header [data-view-section], footer [data-view-section], nav[data-control] [data-view-section]",ARTICLE_ROUTER_TAP:"article [data-view-article]",SECTION_ROUTER_TAP:"article [data-view-section]",ASIDE_ROUTER:"[data-view-aside]",MENU_ROUTER:"[data-view-menu]",LIST_IN_ELEMENT:"article.list",ELEMENT_SCROLLABLE:"article.scroll",HREF_ASIDE:"section[data-aside].drag",HREF_ROUTER:"a[href][data-router]",MENU_HREF:"[data-control=menu] a[href]",CONTROL_CHECKBOX:"[data-control-checkbox]",NAVIGATION_ITEM:'a[href][data-router="article"]',ARTICLE_REFERENCE:"[data-article]",TITLE:"header .title, footer .title",ACTIVE_LIST_ITEM:"li a.active, li.active"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",HIDING:"hiding",RIGHT:"right",LEFT:"left",HORIZONTAL:"horizontal",SMALL:"small",LAST:"last"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},EVENT:{TRANSITION_END:["webkitAnimationEnd","animationend"],CHANGE:"change"},TRANSITION:{DURATION:400,ORIGIN:"transition-origin",ATTR:"transition"},ASIDE:{NORMAL:264},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",ROUTER:"router",FIRST:"first",LAST:"last",EMPTY:"",CHILDREN:"children",TRANSITION:"transition",STATE:"state",DIRECTION:"direction"},BINDING:{START:"{{",END:"}}",KEY:"value",SELECTOR:"{{value}}"},DEVICE:{PHONE:"phone",TABLET:"tablet",TV:"tv"},ERROR:{DATABASE:"ERROR: Connecting to Data.Sql.",DATABASE_TRANSACTION:"ERROR: Data.Sql >> ",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource: "}}}.call(this);!function(){Lungo.Core=function(B,A){var z,y,x,w,v,u,t,s,r,q,p,o;z=Array.prototype;s=function(a,d){if(!B.Core.isMobile()){return console[a===1?"log":a===2?"warn":"error"](d)}};w=function(){var d,c;d=p(arguments);c=d.shift();if(o(c)==="function"){return c.apply(null,d)}};y=function(d,c){return function(){return c.apply(d,p(arguments))}};r=function(){var g,f,j,i,h;j=j||{};g=0;i=arguments.length;while(g<i){f=arguments[g];for(h in f){if(t(f,h)){j[h]=f[h]}}g++}return j};t=function(b,d){return A.isOwnProperty(b,d)};o=function(b){return A.toType(b)};p=function(b){return z.slice.call(b,0)};u=function(){return A.isMobile()};x=function(){return A.environment()};q=function(f,e,h){var g;g=h==="desc"?-1:1;return f.sort(function(b,d){if(b[e]<d[e]){return -g}else{if(b[e]>d[e]){return g}else{return 0}}})};v=function(i,h,n){var m,l,k,j;j=null;l=0;k=i.length;while(l<k){m=i[l];if(m[h]===n){j=m;break}l++}return j};return{log:s,execute:w,bind:y,mix:r,isOwnProperty:t,toType:o,toArray:p,isMobile:u,environment:x,orderByProperty:q,findByProperty:v}}(Lungo,Quo)}.call(this);!function(){Lungo.dom=function(b){return $$(b)}}.call(this);!function(){Lungo.Events=function(e){var d,f;d=" ";f=function(l){var k,j,i,b,a;a=[];for(j in l){b=j.indexOf(d);if(b>0){i=j.substring(0,b);k=j.substring(b+1);a.push(e.dom(document.body).delegate(k,i,l[j]))}else{a.push(void 0)}}return a};return{init:f}}(Lungo)}.call(this);!function(){Lungo.Fallback=function(d){var c;c=function(){var a,e;a=d.Core.environment();e=a.isMobile&&a.os.name==="Android"&&a.os.version<"3"?"absolute":"fixed";return d.dom(document.body).data("position",e)};return{fixPositionInAndroid:c}}(Lungo)}.call(this);!function(){Lungo.init=function(d){var c;Lungo.Config=d;if(d&&d.resources){Lungo.Resource.load(d.resources)}Lungo.Boot.Device.init();c=Lungo.DEVICE===Lungo.Constants.DEVICE.PHONE;Lungo.Router=c?Lungo.RouterPhone:Lungo.RouterTablet;Lungo.Boot.Events.init();Lungo.Boot.Data.init();return Lungo.Boot.Layout.init()}}.call(this);!function(){Lungo.Notification=function(X){var W,V,U,T,S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D,C,B,A,z;C=[];H=null;z=null;U=1;W=X.Constants.ATTRIBUTE;V=X.Constants.BINDING;Q=X.Constants.TRANSITION;S={BODY:"body",NOTIFICATION:".notification",MODAL:".notification .window",MODAL_HREF:".notification .window a",WINDOW_CLOSABLE:".notification [data-action=close], .notification > .error, .notification > .success",CONFIRM_BUTTONS:".notification .confirm button, .notification .push"};R={MODAL:"modal",VISIBLE:"visible",SHOW:"show",WORKING:"working",INPUT:"input"};T='<div class="notification"><div class="window"></div></div>';K=function(a,l,k,j){var i,c;c=void 0;if(a!=null){c=E(l,null,a)}else{i=X.Attributes.loading.html;c=i.replace(V.START+V.KEY+V.END,"white")}B(c,"growl");return G(k,j)};N=function(){z.removeClass("show");return setTimeout(function(){return H.removeClass("show").removeClass("html").removeClass("confirm").removeClass("notify").removeClass("growl")},Q.DURATION/2)};P=function(d){var c;C=d;c=E(d.title,d.description,d.icon);c+=I(d.accept,"accept");c+=I(d.cancel,"cancel");return B(c,"confirm")};J=function(g,f,j,i,h){if(j==null){j="ok"}return D(g,f,j,"success",i,h)};O=function(g,f,j,i,h){if(j==null){j="remove-sign"}return D(g,f,j,"error",i,h)};M=function(f,e,h,g){if(e){f+='<button class="anchor" data-action="close">'+e+"</button>"}B(f,"html "+h);return G(g)};L=function(e,d,f){B(E(e,null,d),"push "+f,false);return G(5)};F=function(){X.dom(S.BODY).append(T);H=X.dom(S.NOTIFICATION);z=H.children(".window");return A()};B=function(e,d,f){if(f==null){f=true}if(f){H.removeClass("push")}else{H.addClass("push")}if(!z.hasClass("show")){H.addClass("show")}else{z.removeClass(R.SHOW)}return setTimeout(function(){z.html(e);return z.attr("class","window "+d+" show")},Q.DURATION/2)};G=function(e,d){var f=this;if(e!=null&&e>0){return setTimeout(function(){if(d){return d.call(void 0,d)}else{return N()}},e*1000)}};D=function(h,g,l,k,j,i){B(E(h,g,l),k);return G(j,i)};E=function(e,d,f){d=!d?"&nbsp;":d;e=!e?"&nbsp;":e;return'<span class="icon '+f+'"></span><strong class="text bold">'+e+"</strong><small>"+d+"</small>"};I=function(d,c){return'<button data-callback="'+c+'" class="anchor">'+d.label+"</a>"};A=function(){X.dom(S.CONFIRM_BUTTONS).touch(function(a){var f,e;f=X.dom(this);if(C[f.data("callback")]!=null){e=C[f.data("callback")].callback;C=null;if(e!=null){e.call(void 0,e)}}return N()});return X.dom(S.WINDOW_CLOSABLE).tap(N)};F();return{show:K,hide:N,error:O,success:J,confirm:P,html:M,push:L}}(Lungo)}.call(this);!function(){Lungo.Resource=function(j,i){var p,o,n,m,l,k;p=j.Constants.ELEMENT;o=j.Constants.ERROR;n=function(a,r){var q,h,f;if(j.Core.toType(a)==="array"){q=0;h=a.length;f=[];while(q<h){m(a[q]);f.push(q++)}return f}else{return m(a,r)}};m=function(a,h){var g;try{return k(l(a),h)}catch(f){g=f;return j.Core.log(3,g.message)}};l=function(b){return i.ajax({url:b,async:false,dataType:"html",error:function(){return console.error(o.LOADING_RESOURCE+b)}})};k=function(a,c){if(j.Core.toType(a)==="string"){c=c?c:p.BODY;return j.dom(c).append(a)}};return{load:n}}(Lungo,Quo)}.call(this);!function(){!function(B,A){var z,y,x,w,v,u,t,s,r,q,p,o;v=B.document;u=v.documentElement;y="scroll-enabled";z="ontouchmove" in v;q="WebkitOverflowScrolling" in u.style||!z&&B.screen.width>1200||function(){var a,h,g,f;a=B.navigator.userAgent;h=a.match(/AppleWebKit\/([0-9]+)/);f=h&&h[1];g=h&&f>=534;return a.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&g||a.match(RegExp(" Version\\/([0-9]+)"))&&RegExp.$1>=0&&B.blackberry&&g||a.indexOf(/PlayBook/)>-1&&RegExp.$1>=0&&g||a.match(/Fennec\/([0-9]+)/)&&RegExp.$1>=4||a.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&g||a.match(/NokiaBrowser\/([0-9\.]+)/)&&parseFloat(RegExp.$1)===7.3&&h&&f>=533}();w=function(f,e,h,g){return h*((f=f/g-1)*f*f+1)+e};s=false;p=void 0;o=function(F,E){var D,C,n,m,l,k,a;n=0;k=F.scrollLeft;a=F.scrollTop;l={top:"+0",left:"+0",duration:100,easing:B.overthrow.easing};D=void 0;C=void 0;if(E){for(m in l){if(E[m]!==void 0){l[m]=E[m]}}}if(typeof l.left==="string"){l.left=parseFloat(l.left);D=l.left+k}else{D=l.left;l.left=l.left-k}if(typeof l.top==="string"){l.top=parseFloat(l.top);C=l.top+a}else{C=l.top;l.top=l.top-a}p=setInterval(function(){if(n++<l.duration){F.scrollLeft=l.easing(n,k,l.left,l.duration);return F.scrollTop=l.easing(n,a,l.top,l.duration)}else{if(D!==F.scrollLeft){F.scrollLeft=D}if(C!==F.scrollTop){F.scrollTop=C}return r()}},1);return{top:C,left:D,duration:l.duration,easing:l.easing}};x=function(d,c){return !c&&d.className&&d.className.indexOf("scroll")>-1&&d||x(d.parentNode)};r=function(){return clearInterval(p)};t=function(){var h,g,f,e,d,c,a,C,n,l,k,j;if(s){return}s=true;if(q||z){u.className+=" "+y}B.overthrow.forget=function(){u.className=u.className.replace(y,"");if(v.removeEventListener){v.removeEventListener("touchstart",j,false)}B.overthrow.easing=w;return s=false};if(q||!z){return}g=void 0;C=[];c=[];d=void 0;a=void 0;l=function(){C=[];return d=null};n=function(){c=[];return a=null};f=function(){var m,i,D;D=(C[0]-C[C.length-1])*8;i=(c[0]-c[c.length-1])*8;m=Math.max(Math.abs(i),Math.abs(D))/8;D=(D>0?"+":"")+D;i=(i>0?"+":"")+i;if(!isNaN(m)&&m>0&&(Math.abs(i)>80||Math.abs(D)>80)){return o(g,{left:i,top:D,duration:m})}};e=void 0;k=function(m){var i,E,D;e=g.querySelectorAll("textarea, input");i=0;E=e.length;D=[];while(i<E){e[i].style.pointerEvents=m;D.push(i++)}return D};h=function(m,i){var E,D;if(v.createEvent){E=(!i||i===void 0)&&g.parentNode||g.touchchild||g;D=void 0;if(E!==g){D=v.createEvent("HTMLEvents");D.initEvent("touchend",true,true);g.dispatchEvent(D);E.touchchild=g;g=E;return E.dispatchEvent(m)}}};j=function(K){var H,G,F,E,D,m,i,b,L,J,I;r();l();n();g=x(K.target);if(!g||g===u||K.touches.length>1){return}k("none");J=K;m=g.scrollTop;D=g.scrollLeft;G=g.offsetHeight;I=g.offsetWidth;L=K.touches[0].pageY;b=K.touches[0].pageX;E=g.scrollHeight;i=g.scrollWidth;F=function(M){var Q,P,O,N;N=m+L-M.touches[0].pageY;O=D+b-M.touches[0].pageX;Q=N>=(C.length?C[0]:0);P=O>=(c.length?c[0]:0);if(N>0&&N<E-G||O>0&&O<i-I){M.preventDefault()}else{h(J)}if(d&&Q!==d){l()}if(a&&P!==a){n()}d=Q;a=P;g.scrollTop=N;g.scrollLeft=O;C.unshift(N);c.unshift(O);if(C.length>3){C.pop()}if(c.length>3){return c.pop()}};H=function(M){f();k("auto");setTimeout(function(){return k("none")},450);g.removeEventListener("touchmove",F,false);return g.removeEventListener("touchend",H,false)};g.addEventListener("touchmove",F,false);return g.addEventListener("touchend",H,false)};return v.addEventListener("touchstart",j,false)};B.overthrow={set:t,forget:function(){},easing:w,toss:o,intercept:r,closest:x,support:q?"native":z&&"polyfilled"||"none"};return t()}(this)}.call(this);!function(){Lungo.Service=function(z,y){var x,w,v,u,t,s,r,q,p,o,n;w="lungojs_service_cache";x={MINUTE:"minute",HOUR:"hour",DAY:"day"};u=function(b,h,g,f){return y.get(b,h,g,f)};s=function(b,h,g,f){return y.post(b,h,g,f)};t=function(b,f,e){return y.json(b,f,e)};v=function(A,m,l,k,j){var b,a;b=A+y.serializeParameters(m);if(n(b,l)){a=z.Data.Storage.persistent(b);if(a){return k.call(k,a)}}else{return y.get(A,m,function(c){o(b,c);return k.call(k,c)},j)}};n=function(a,j){var i,h,d;i=false;d=z.Data.Storage.persistent(w);if(d){h=q(d[a]);i=p(h,j)}return i};q=function(e){var d,f;d=(new Date).getTime();f=new Date(e).getTime();return d-f};p=function(f,e){var h,g;g=e.split(" ");h=r(g[1],f);if(h<g[0]){return true}else{return false}};r=function(e,c){var f;f=c/1000/60;if(e.indexOf(x.HOUR)>=0){f=f/60}else{if(e.indexOf(x.DAY)>=0){f=f/60/24}}return f};o=function(a,f){var d;d=z.Data.Storage.persistent(w)||{};d[a]=new Date;z.Data.Storage.persistent(w,d);return z.Data.Storage.persistent(a,f)};return{get:u,post:s,json:t,cache:v,Settings:y.ajaxSettings}}(Lungo,Quo)}.call(this);!function(){Lungo.RouterPhone=function(J){var I,H,G,F,E,D,C,B,A,z,y,x,w,v,u,t,s;I=J.Constants;H="#";z=[];A=false;C=function(h){var c,b,a;if(A){return false}c=J.Element.Cache.section;if(y(c,h)){a=I.ELEMENT.SECTION+H+h;b=c?c.siblings(a):J.dom(a);if(b.length){w(b,c);J.Router.step(h);if(Lungo.Config.history!==false){return s()}}}else{if(J.Element.Cache.aside){return J.Aside.hide()}}};E=function(){var c,b,a;if(A){return false}x();c=J.Element.Cache.section;a=I.ELEMENT.SECTION+H+D();b=c.siblings(a);if(b.length){w(b,c,true);if(Lungo.Config.history!==false){s()}return t()}};F=function(h,g,b){var a;if(y(J.Element.Cache.article,g)){J.Router.section(h);a=J.Element.Cache.section.find("#"+g);if(a.length>0){J.Element.Cache.article.removeClass(I.CLASS.ACTIVE).trigger(I.TRIGGER.UNLOAD);J.Element.Cache.article=a.addClass(I.CLASS.ACTIVE).trigger(I.TRIGGER.LOAD);if((b!=null?b.data(I.ATTRIBUTE.TITLE):void 0)!=null){J.Element.Cache.section.find(I.QUERY.TITLE).text(b.data(I.ATTRIBUTE.TITLE))}if(Lungo.Config.history!==false){s()}return t()}}};G=function(b){var a;C=J.dom(b.target);a=C.data(I.ATTRIBUTE.DIRECTION);if(C.data("original-transition")){C.data(I.TRANSITION.ATTR,C.data("original-transition"));C.removeAttr("data-original-transition")}if(a==="out"||a==="back-out"){C.removeClass(I.CLASS.SHOW)}C.removeAttr("data-"+I.ATTRIBUTE.DIRECTION);return A=false};B=function(b){if(b!==D()){return z.push(b)}};D=function(){return z[z.length-1]};w=function(a,h,g){var f;if(g==null){g=false}f=function(){u(a,h,g);return t()};if(J.Element.Cache.aside){return J.Aside.hide(f)}else{return f()}};u=function(a,f,e){J.Section.show(f,a);if(f!=null){return v(a,f,e)}};v=function(b,h,g){var f;if(g==null){g=false}if(h==null||!b.length){return false}A=true;f=g?"back-":"";if(!g){h.data("original-transition",h.data(I.TRANSITION.ATTR));h.data(I.TRANSITION.ATTR,b.data(I.TRANSITION.ATTR))}else{b.data("original-transition",b.data(I.TRANSITION.ATTR));b.data(I.TRANSITION.ATTR,h.data(I.TRANSITION.ATTR))}b.addClass(I.CLASS.SHOW);if(b.data(I.TRANSITION.ATTR)){b.data(I.ATTRIBUTE.DIRECTION,""+f+"in")}if(h.data(I.TRANSITION.ATTR)){return h.data(I.ATTRIBUTE.DIRECTION,""+f+"out")}else{return h.removeClass(I.CLASS.SHOW)}};y=function(b,d){return(b!=null?b.attr(I.ATTRIBUTE.ID):void 0)!==d};s=function(){var a,f,e;a="";for(f=0,e=z.length;f<e;f++){C=z[f];a+=""+C+"/"}a+=J.Element.Cache.article.attr("id");return setTimeout(function(){return window.location.hash=a},0)};t=function(){var f,b,a;f=J.Element.Cache.article.attr(I.ATTRIBUTE.ID);b=J.dom(I.QUERY.ARTICLE_ROUTER).removeClass(I.CLASS.ACTIVE);b.filter("[data-view-article="+f+"]").addClass(I.CLASS.ACTIVE);a=J.Element.Cache.section.find(I.QUERY.ARTICLE_REFERENCE).addClass(I.CLASS.HIDE);return a.filter("[data-article*='"+f+"']").removeClass(I.CLASS.HIDE)};x=function(){if(z.length>1){return z.length-=1}};return{section:C,back:E,article:F,history:D,step:B,animationEnd:G}}(Lungo)}.call(this);!function(){Lungo.RouterTablet=function(af){var ae,ad,ac,ab,aa,Z,Y,X,W,V,U,T,S,R,Q,O,M,K,J,I,H,G,F,E,D,P,N,L;ae=af.Constants;ad="#";R=[];W=false;U=void 0;S=false;Y=function(h){var c,b,a;if(W){return false}c=af.Element.Cache.section;if(M(c,h)){a=ae.ELEMENT.SECTION+ad+h;b=c?c.siblings(a):af.dom(a);if(b.length){if(c&&O(c)&&O(b)){P(c,b)}else{H(b,c)}X(h);if(Lungo.Config.history!==false){L()}return N()}}};aa=function(k){var j,g,c,b,a;if(k==null){k=true}if(W){return false}if(!I()){a=af.dom(event.target).closest(ae.ELEMENT.SECTION);if(a.length){c=0;while(Z()!==a.attr("id")&&c++<10){V(af.dom(ae.ELEMENT.SECTION+ad+Z()),"back-out");J()}af.Element.Cache.section=a}}J();j=af.Element.Cache.section;b=ae.ELEMENT.SECTION+ad+Z();g=j.siblings(b);if(g.length){if(j&&O(j)&&O(g)){P(j,g)}else{H(g,j,true,k)}if(Lungo.Config.history!==false){L()}return N()}};ab=function(h,f,b){var a;if(!I()&&h!==af.Element.Cache.section.attr("id")){aa(false)}a=af.dom("article#"+f);if(a.length>0){Y=a.closest(ae.ELEMENT.SECTION);af.Router.section(Y.attr("id"));Y=af.Element.Cache.section;Y.children(""+ae.ELEMENT.ARTICLE+"."+ae.CLASS.ACTIVE).removeClass(ae.CLASS.ACTIVE).trigger(ae.TRIGGER.UNLOAD);af.Element.Cache.article.removeClass(ae.CLASS.ACTIVE).trigger(ae.TRIGGER.UNLOAD);af.Element.Cache.article=a.addClass(ae.CLASS.ACTIVE).trigger(ae.TRIGGER.LOAD);if((b!=null?b.data(ae.ATTRIBUTE.TITLE):void 0)!=null){Y.find(ae.QUERY.TITLE).text(b.data(ae.ATTRIBUTE.TITLE))}if(Lungo.Config.history!==false){L()}return N(f)}};ac=function(b){var a;Y=af.dom(b.target);a=Y.data(ae.ATTRIBUTE.DIRECTION);if(a){if(a==="out"||a==="back-out"){Y.removeClass(ae.CLASS.SHOW)}Y.removeAttr("data-"+ae.ATTRIBUTE.DIRECTION);if(U!=null){S=true;H(U,void 0);U=void 0}}if(Y.hasClass("asideHidding")){Y.removeClass("asideHidding").removeClass("aside")}if(Y.hasClass("asideShowing")){Y.removeClass("asideShowing").addClass("aside")}if(Y.hasClass("shadowing")){Y.removeClass("shadowing").addClass("shadow")}if(Y.hasClass("unshadowing")){Y.removeClass("unshadowing").removeClass("shadow")}return W=false};X=function(b){if(b!==Z()){return R.push(b)}};Z=function(){return R[R.length-1]};H=function(a,f,e){if(e==null){e=false}if(f==null){af.Section.show(void 0,a);D(a)}else{if(e){F(f,a)}else{E(f,a)}af.Section.show(f,a)}return S=false};O=function(b){return b.data("children")==null&&b.data("aside")==null};P=function(a,d){af.Section.show(a,d);a.removeClass("show");return d.addClass("show")};D=function(b){var a;if(!S||!((a=af.Element.Cache.section)!=null?a.data("aside"):void 0)){b.addClass(ae.CLASS.SHOW)}else{V(b,"in")}return T(void 0,b)};E=function(j,i){var h,b,a;if(Q(j,i)){V(i,"in")}else{b="section."+ae.CLASS.SHOW;a=K(i);if(a){b+=":not(#"+a+")"}h=af.dom(b);V(h,"back-out");U=i}return T(j,i)};F=function(f,b){var a;V(f,"back-out");a=af.dom("section."+ae.CLASS.SHOW+":not(#"+f.attr("id")+")");if(a.length===1&&a.first().data("children")!=null){af.Aside.show(a.first().data("aside"))}return U=b};T=function(a,h){var g,f;g=h.data("aside");f=af.Element.Cache.aside;if(g){if(!(a!=null&&af.Element.Cache.aside!=null)){return G(g,h)}else{if(!f.hasClass("box")){return af.Aside.hide()}}}else{return af.Aside.hide()}};G=function(a,f){var e;e=f.data("children")?false:true;return af.Aside.show(a,e)};K=function(a){var d;d=af.dom("[data-children~="+a.attr("id")+"]");if(d.length){return d.attr("id")}return null};Q=function(f,e){var h,g;h=f.data("children");if(!h){return false}g=e.attr("id");return h.indexOf(g)!==-1};V=function(b,h){var g,f;f=h.indexOf("in")>=0;g=false;if(f){if(!b.hasClass(ae.CLASS.SHOW)){g=true}}else{g=true}if(g){if(f){b.addClass(ae.CLASS.HIDE);b.addClass(ae.CLASS.SHOW);return setTimeout(function(){return b.data(ae.ATTRIBUTE.DIRECTION,h).removeClass(ae.CLASS.HIDE)},10)}else{b.addClass(ae.CLASS.SHOW);return b.data(ae.ATTRIBUTE.DIRECTION,h)}}};I=function(){var a,d;if(!event||!af.Element.Cache.section){return true}a=af.dom(event.target).closest("section,aside");if(a.length){d=a.attr("id")===af.Element.Cache.section.attr("id")}else{d=true}return d};M=function(b,d){return(b!=null?b.attr(ae.ATTRIBUTE.ID):void 0)!==d};L=function(){var a,f,e;a="";for(f=0,e=R.length;f<e;f++){Y=R[f];a+=""+Y+"/"}a+=af.Element.Cache.article.attr("id");return setTimeout(function(){return window.location.hash=a},0)};N=function(l){var k,j,i,b,a;if(!l){l=(a=af.Element.Cache.article)!=null?a.attr(ae.ATTRIBUTE.ID):void 0}af.Element.Cache.section.find(ae.QUERY.ARTICLE_ROUTER).removeClass(ae.CLASS.ACTIVE);if(af.Element.Cache.section.data("aside")!=null){b=af.dom("aside#"+af.Element.Cache.section.data("aside"));b.find(ae.QUERY.ARTICLE_ROUTER).removeClass(ae.CLASS.ACTIVE)}af.dom("[data-view-article="+l+"]").addClass(ae.CLASS.ACTIVE);i=af.Element.Cache.section.find(ae.QUERY.ARTICLE_REFERENCE).addClass(ae.CLASS.HIDE);i.filter("[data-article~='"+l+"']").removeClass(ae.CLASS.HIDE);if(af.Element.Cache.aside){j=af.Element.Cache.section.attr("id");k=af.Element.Cache.aside;k.find(ae.QUERY.SECTION_ROUTER+"."+ae.CLASS.ACTIVE).removeClass("active");return k.find("[data-view-section="+j+"]").addClass(ae.CLASS.ACTIVE)}};J=function(){if(R.length>1){return R.length-=1}};return{section:Y,back:aa,article:ab,history:Z,step:X,animationEnd:ac,historys:function(){return R}}}(Lungo)}.call(this);!function(){Lungo.Aside=function(F){var E,D,C,B,A,z,y,x,w,v,u,t,s,r,q;D=F.Constants;t=void 0;B="__customKFShow__";C="__customKFHide__";E="300ms";r=void 0;q="";F.ready(function(){var a,d;a=((d=F.Core.environment().browser.match(/mozilla|firefox/gi))!=null?d.length:void 0)>0;return q=a?"":"-webkit-"});x=function(L,K,J){var I,H,G,p,n,k,c,b,a;if(K==null){K=false}if(J==null){J=-1}H=F.dom("#"+L);if(H.length){if(!v(L)){if(!K){F.Element.Cache.aside=H;if(F.DEVICE===D.DEVICE.PHONE){H.addClass(D.CLASS.SHOW);if(J!==-1){I=s(J)+" "+E;return F.Element.Cache.section.style(""+q+"animation",I)}else{p=H.data(D.TRANSITION.ATTR)||"left";return F.Element.Cache.section.data("aside-"+p,"show")}}else{H.addClass(D.CLASS.SHOW);G=F.dom("[data-aside="+L+"][data-children]");if(G.attr("id")!==((a=F.Element.Cache.section)!=null?a.attr("id"):void 0)){F.Element.Cache.section.addClass("shadowing");k=G.data("children");k=k.split(" ");for(c=0,b=k.length;c<b;c++){n=k[c];n=F.dom(D.ELEMENT.SECTION+"#"+n);if(n.length&&n.hasClass(D.CLASS.SHOW)){n.addClass("shadowing")}}}return G.removeClass("aside").addClass("asideShowing")}}else{F.Element.Cache.aside=H;return H.addClass(D.CLASS.SHOW).addClass("box")}}}};y=function(j,i){var c,b,a;if(i==null){i=null}if(F.Element.Cache.aside||i){t=j;b=((a=F.Element.Cache.aside)!=null?a.data(D.TRANSITION.ATTR):void 0)||"left";if(F.DEVICE===D.DEVICE.PHONE){if(i>0){F.Element.Cache.section.removeClass("aside").removeClass("aside-right");c=s(i,true)+" "+E;return F.Element.Cache.section.style(""+q+"animation",c)}else{F.Element.Cache.section.removeClass("aside").removeClass("aside-right");return F.Element.Cache.section.data("aside-"+b,"hide")}}else{F.dom(".aside").removeClass("aside").addClass("asideHidding");F.Element.Cache.aside=null;if(j){j.call(j)}return F.dom(".shadow").removeClass("shadow").addClass("unshadowing")}}else{if(j){return j.call(j)}}};w=function(a){if(F.Element.Cache.aside){return this.hide()}else{return this.show(a)}};A=function(a){var j,i,d,c;d=F.dom(a.target);j=((c=F.Element.Cache.aside)!=null?c.data(D.TRANSITION.ATTR):void 0)||"left";if(d.data("aside-"+j)==="hide"){F.Element.Cache.aside.removeClass(D.CLASS.SHOW);F.Element.Cache.aside=null;d.removeAttr("data-aside-"+j);if(t){t.call(t)}t=void 0}else{if(d.style(""+q+"animation").indexOf(C)===-1){i=j.indexOf("right")===-1?"aside":"aside-right";d.addClass(i)}d.removeAttr("style").removeAttr("data-aside-"+j)}if(r){d.removeAttr("style");r.parentNode.removeChild(r);return r=void 0}};z=function(){var a;if(F.DEVICE!==D.DEVICE.PHONE){return false}a=96;return F.dom(D.QUERY.HREF_ASIDE).each(function(){var i,h,c,b;b=false;h=F.dom(this);c=h.closest("section");i=F.dom("aside#"+h.data("aside"));c.swiping(function(f){var d,g;f.originalEvent.preventDefault();if(!(c.hasClass("aside")||c.hasClass("aside-right"))){d=f.currentTouch.x-f.iniTouch.x;g=Math.abs(f.currentTouch.y-f.iniTouch.y);b=b?true:d>3*g&&d<50;if(b){d=d>256?256:d<0?0:d;i.addClass(D.CLASS.SHOW);c.vendor("transform","translateX("+d+"px)");return c.vendor("transition-duration","0s")}else{return c.attr("style","")}}});return c.swipe(function(d){var g,f;g=d.currentTouch.x-d.iniTouch.x;if(g>256){g=256}f=Math.abs(d.currentTouch.y-d.iniTouch.y);c.attr("style","");if(g>a&&b){x(i.attr("id"),false,g)}else{if(b){y(void 0,g)}else{y()}}return b=false})})};v=function(a){var d;return((d=F.Element.Cache.aside)!=null?d.attr("id"):void 0)===a};u=function(){var a;if((a=F.Element.Cache.aside)!=null?a.hasClass(D.CLASS.RIGHT):void 0){return""+D.CLASS.RIGHT}else{return" "}};s=function(e,d){var h,g;if(d==null){d=false}h=d?C:B;r=document.createElement("style");r.type="text/css";if(!d){g="@"+q+"keyframes "+h+" {\n  0%   { "+q+"transform: translateX("+e+"px); }\n  60%  { "+q+"transform: translateX(262px);  }\n  100% { "+q+"transform: translateX(256px);  }\n}"}else{g="@"+q+"keyframes "+h+" {\n  0%   { "+q+"transform: translateX("+e+"px); }\n  100% { "+q+"transform: translateX(0);      }\n}"}r.appendChild(document.createTextNode(g));document.getElementsByTagName("head")[0].appendChild(r);return h};return{show:x,hide:y,toggle:w,draggable:z,animationEnd:A}}(Lungo)}.call(this);!function(){Lungo.Section=function(g){var f,j,i,h;f=g.Constants;j=function(d,b){var a;if(g.DEVICE===f.DEVICE.PHONE){i(b)}else{h(d,b)}g.Element.Cache.section=b;a=b.find(""+f.ELEMENT.ARTICLE+"."+f.CLASS.ACTIVE);if(a.length===0){a=b.find(f.ELEMENT.ARTICLE).first().addClass(f.CLASS.ACTIVE)}g.Element.Cache.article=a;if(d){d.trigger(f.TRIGGER.UNLOAD)}return b.trigger(f.TRIGGER.LOAD)};i=function(b){return b.addClass(f.CLASS.SHOW)};h=function(d,c){return this};return{show:j}}(Lungo)}.call(this);!function(){Lungo.Article=function(e){var d,f;d=e.Constants;f=function(n,m,l,k,j){var b,a;if(k==null){k=""}if(j==null){j=null}if(b=e.dom(""+d.ELEMENT.ARTICLE+"#"+n)){a="";if(m!=null){a='<div class="empty">\n  <span class="icon '+m+'"></span>\n  <strong>'+l+"</strong>\n  <small>"+k+"</small>\n</div>"}b.html(a);if(j){return b.children().append("<button class='anchor'><abbr>"+j+"</abbr></button>")}}};return{clean:f}}(Lungo)}.call(this);!function(){Lungo.Boot.Data=function(h){var g,l,k,j,i;g=h.Constants.BINDING;l=function(a){var d;d=h.dom(a||document.body);if(d.length>0){return j(d)}};j=function(a){var f,e;e=[];for(f in h.Attributes){if(h.Core.isOwnProperty(h.Attributes,f)){e.push(i(a,f))}else{e.push(void 0)}}return e};i=function(a,n){var m,d;m=h.Attributes[n];d=m.selector+"[data-"+n+"]";a.find(d).each(function(c,o){var e;e=h.dom(o);return k(e,e.data(n),m.html)});if(a.data(n)!=null){return k(a,a.data(n),m.html)}};k=function(e,d,f){return e.prepend(f.replace(/\{\{value\}\}/g,d))};return{init:l}}(Lungo)}.call(this);!function(){Lungo.Boot.Device=function(e){var d,f;d=e.Constants.DEVICE;f=function(){var b,a;a=e.Core.environment();e.DEVICE=a.screen.width<768?d.PHONE:d.TABLET;b=e.dom(document.body);b.data("device",e.DEVICE);if(a.os){b.data("os",a.os.name.toLowerCase())}if(e.DEVICE===e.Constants.DEVICE.PHONE){return e.Aside.draggable()}};return{init:f}}(Lungo)}.call(this);!function(){Lungo.Boot.Events=function(B){var A,z,y,x,w,v,u,t,s,r,q,p,o;z=B.Constants;A=B.Constants.ATTRIBUTE;y=B.Constants.CLASS;x=B.Constants.ELEMENT;w=B.Constants.QUERY;v=function(){var a,i,h,f,c;B.dom(z.QUERY.SECTION_ROUTER_TOUCH).touch(p);B.dom(z.QUERY.SECTION_ROUTER_TAP).tap(p);B.dom(z.QUERY.ARTICLE_ROUTER_TOUCH).touch(t);B.dom(z.QUERY.ARTICLE_ROUTER_TAP).tap(t);B.dom(z.QUERY.ASIDE_ROUTER).touch(s);B.dom(z.QUERY.MENU_ROUTER).touch(q);B.dom(w.MENU_HREF).touch(u);f=z.EVENT.TRANSITION_END;c=[];for(i=0,h=f.length;i<h;i++){a=f[i];B.dom("body").delegate(z.ELEMENT.SECTION,a,o);c.push(B.dom("body").delegate(z.ELEMENT.ASIDE,a,o))}return c};p=function(a){var f,c;a.preventDefault();f=B.dom(this);if(f.data("async")){return r(f,z.ELEMENT.SECTION)}else{c=f.data("view-section");if(c!=="back"){return B.Router.section(c)}else{return B.Router.back()}}};t=function(a){var c;a.preventDefault();c=B.dom(this);if(c.data("async")){return r(c,z.ELEMENT.ARTICLE)}else{return B.Router.article(B.Router.history(),c.data("view-article"),c)}};r=function(F,E){var D,C,n,m,l,c,a;m=F.data("async");D=F.data("view-"+E);B.Notification.show();if(E===z.ELEMENT.ARTICLE){n=B.Element.Cache.section.attr(z.ATTRIBUTE.ID);B.Resource.load(m,z.ELEMENT.SECTION+"#"+n)}else{B.Resource.load(m)}B.Boot.Data.init("#"+D);a=B.dom("[data-async='"+m+"']");for(l=0,c=a.length;l<c;l++){C=a[l];C.removeAttribute("data-async")}if(E===z.ELEMENT.ARTICLE){B.Router.article(n,D);B.Aside.hide()}else{B.Router.section(D)}return B.Notification.hide()};s=function(a){var c;a.preventDefault();c=B.dom(a.target).closest(z.QUERY.ASIDE_ROUTER).data("view-aside");return B.Aside.toggle(c)};q=function(a){var d;a.preventDefault();d=B.dom(this).data("view-menu");return B.Element.Menu.show(d)};u=function(a){var f,c;a.preventDefault();f=B.dom(this);c=f.parent(z.CONTROL.MENU).attr(z.ATTRIBUTE.ID);B.Element.Menu.hide(c);return B.dom("[data-view-menu="+c+"] > .icon").attr("class","icon "+f.data("icon"))};o=function(a){var j,i,h,g;h=B.dom(a.target);i=h.data("direction");j=h.hasClass("asideHidding")||h.hasClass("asideShowing");g=h.hasClass("shadowing")||h.hasClass("unshadowing");if(i||j||g){return B.Router.animationEnd(a)}else{return B.Aside.animationEnd(a)}};return{init:v}}(Lungo)}.call(this);!function(){Lungo.Boot.Layout=function(r){var q,p,o,n,m,l,k,j;q=r.Constants;p="#";o=function(){var a;r.Fallback.fixPositionInAndroid();if(Lungo.Config.history&&((a=window.location.hash)!=null?a.length:void 0)>=2){k()}else{l()}m(q.QUERY.LIST_IN_ELEMENT,n);return m(q.QUERY.ELEMENT_SCROLLABLE,j)};k=function(){var a,u,t,s,i,c;u=window.location.hash.replace(p,"").split("/");s=u[u.length-2];a=u[u.length-1];if(u.length>2){u.length-=2;for(i=0,c=u.length;i<c;i++){t=u[i];r.Router.step(t)}}r.Router.section(s);return r.Router.article(s,a)};l=function(){var a;a=r.dom(q.ELEMENT.SECTION).first();if(a){return r.Router.section(a.attr(q.ATTRIBUTE.ID))}};m=function(a,w){var v,u,t,s,i;u=r.dom(a);t=0;s=u.length;i=[];while(t<s){v=r.dom(u[t]);r.Core.execute(w,v);i.push(t++)}return i};n=function(b){var d;if(b.children().length===0){d=b.attr(q.ATTRIBUTE.ID);return b.append(q.ELEMENT.LIST)}};j=function(b){return b[0].addEventListener("touchstart",function(d){var c;c=this.scrollTop;if(c<=1){this.scrollTop=1}if(c+this.offsetHeight>=this.scrollHeight){return this.scrollTop=this.scrollHeight-this.offsetHeight-1}},false)};return{init:o}}(Lungo)}.call(this);!function(){Lungo.Element.Cache={section:null,article:null,aside:null,navigation:null}}.call(this);!function(){Lungo.Element.Carousel=function(B,A){var z,y,x,w,v,u,t,s,r,q,p,o;u={index:0,speed:300,callback:A,container:B,element:B.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0};x=function(b){if(u.index){return s(u.index-1,u.speed)}};z=function(b){if(u.index<u.slides_length-1){return s(u.index+1,u.speed)}else{return s(0,u.speed)}};y=function(){return u.index};w=function(){return t()};t=function(){var d,c;u.slides=u.element.children;u.slides_length=u.slides.length;if(u.slides_length<2){return null}u.width="getBoundingClientRect" in u.container?u.container.getBoundingClientRect().width:u.container.offsetWidth;if(!u.width){return null}u.element.style.width=u.slides.length*u.width+"px";c=u.slides.length;while(c--){d=u.slides[c];d.style.width=u.width+"px";d.style.display="table-cell";d.style.verticalAlign="top"}s(u.index,0);return u.container.style.visibility="visible"};s=function(e,d){var f;f=u.element.style;if(d===void 0){d=u.speed}f.webkitTransitionDuration=f.MozTransitionDuration=f.msTransitionDuration=f.OTransitionDuration=f.transitionDuration=d+"ms";f.MozTransform=f.webkitTransform="translate3d("+-(e*u.width)+"px,0,0)";f.msTransform=f.OTransform="translateX("+-(e*u.width)+"px)";return u.index=e};v=function(){u.element.addEventListener("touchstart",p,false);u.element.addEventListener("touchmove",q,false);u.element.addEventListener("touchend",r,false);u.element.addEventListener("webkitTransitionEnd",o,false);u.element.addEventListener("msTransitionEnd",o,false);u.element.addEventListener("oTransitionEnd",o,false);u.element.addEventListener("transitionend",o,false);return window.addEventListener("resize",t,false)};p=function(b){u.start={pageX:b.touches[0].pageX,pageY:b.touches[0].pageY,time:Number(new Date)};u.isScrolling=void 0;u.deltaX=0;u.element.style.MozTransitionDuration=u.element.style.webkitTransitionDuration=0;return b.stopPropagation()};q=function(e){var d,f;if(e.touches.length>1||e.scale&&e.scale!==1){return}u.deltaX=e.touches[0].pageX-u.start.pageX;if(typeof u.isScrolling==="undefined"){u.isScrolling=!!(u.isScrolling||Math.abs(u.deltaX)<Math.abs(e.touches[0].pageY-u.start.pageY))}if(!u.isScrolling){e.preventDefault();d=!u.index&&u.deltaX>0||u.index===u.slides_length-1&&u.deltaX<0?Math.abs(u.deltaX)/u.width+1:1;u.deltaX=u.deltaX/d;f=u.deltaX-u.index*u.width;u.element.style.MozTransform=u.element.style.webkitTransform="translate3d("+f+"px,0,0)";return e.stopPropagation()}};r=function(e){var d,f;f=Number(new Date)-u.start.time<250&&Math.abs(u.deltaX)>20||Math.abs(u.deltaX)>u.width/2;d=!u.index&&u.deltaX>0||u.index===u.slides_length-1&&u.deltaX<0;if(!u.isScrolling){s(u.index+(f&&!d?u.deltaX<0?1:-1:0),u.speed)}return e.stopPropagation()};o=function(b){if(u.callback){return u.callback.apply(u.callback,[u.index,u.slides[u.index]])}};t();v();return{prev:x,next:z,position:y,refresh:w}}}.call(this);!function(){Lungo.Element.count=function(g,f){var j,i,h;i=Lungo.dom(g);if(i){i.children(".tag.count").remove();if(f){j=Lungo.Constants.BINDING.SELECTOR;h=Lungo.Attributes.count.html.replace(j,f);return i.append(h)}}}}.call(this);!function(){Lungo.Element.loading=function(g,f){var j,i,h;i=Lungo.dom(g);if(i){h=null;if(f){j=Lungo.Constants.BINDING.SELECTOR;h=Lungo.Attributes.loading.html.replace(j,f)}return i.html(h)}}}.call(this);!function(){Lungo.Element.Menu=function(g){var f,j,i,h;f=g.Constants;i=function(b){var d;d=this._instance(b);if(d){return d.addClass(f.CLASS.SHOW)}};j=function(b){var d;d=this._instance(b);if(d){return d.removeClass(f.CLASS.SHOW)}};h=function(b){var d;d=this._instance(b);if(d){if(d.hasClass(f.CLASS.SHOW)){return this.show(b)}else{return this.hide(b)}}};return{_instance:function(b){return Lungo.dom(""+f.CONTROL.MENU+"#"+b)},show:i,hide:j,toggle:h}}(Lungo)}.call(this);!function(){Lungo.Element.progress=function(e,d){var f;f=Lungo.dom(e);if(f){d+=Lungo.Constants.ATTRIBUTE.PERCENT;return f.find(".value").style(Lungo.Constants.ATTRIBUTE.WIDTH,d)}}}.call(this);!function(){Lungo.Element.Pull=function(P,O){var N,M,L,K,J,I,H,G,F,E,D,C,B,A,z,y,x,w,v;F=68;H=80;N=300;J=0;G=false;I=$$(P);K=I.siblings('div[data-control="pull"]');M=void 0;L={onPull:"Pull down to refresh",onRelease:"Release to...",onRefresh:"Loading...",callback:void 0};M=Lungo.Core.mix(L,O);E=function(){z(0,true);setTimeout(function(){G=false;K.attr("class","");return I[0].removeEventListener("touchmove",D,true)},N);return J=0};z=function(e,c){var f;f=e>H?H:e;if(c){I.addClass("pull")}else{I.removeClass("pull")}I.style("-webkit-transform","translate(0, "+f+"px)");if(c){return setTimeout(function(){return I.removeClass("pull")},N)}};y=function(b){G=true;I[0].addEventListener("touchmove",D,true);v(M.onRefresh);x(true);z(F,true);if(M.callback){return M.callback.apply(this)}};v=function(b){return K.find("strong").html(b)};x=function(b){if(b){return K.addClass("refresh")}else{return K.removeClass("refresh")}};w=function(b){if(b){return K.addClass("rotate")}else{return K.removeClass("rotate")}};D=function(b){return b.preventDefault()};A=function(b){z(J,false);x(false);if(J>F){v(M.onRelease);return w(true)}else{v(M.onPull);return w(false)}};B=function(b){if(J>F){y()}else{E()}return this};C=function(b){if($$.isMobile()){return b.touches[0].pageY}else{return b.pageY}};!function(){var d,c;c=false;d=0;return I.bind("touchstart",function(a){if(I[0].scrollTop<=1){c=true;d=C(a)}return true}).bind("touchmove",function(b){var a;if(!G&&c){a=C(b);J=a-d;if(J>=0){A(b);b.preventDefault()}}return true}).bind("touchend",function(){if(c){B()}c=false;return true})}();return{hide:E}}}.call(this);